Install Microk8s first

# Install snap environment in Ubuntu linux 18.04+
sudo snap install microk8s --classic --channel=1.18/stable

# add the user group microk8s to sudo
sudo usermod -a -G microk8s $USER
sudo chown -f -R $USER ~/.kube

# always activate this when to want to execute microk8s command (I encountered issue with etcd server timeout when not using this following command)
su - $USER

# check status of microk8s add ons
microk8s status --wait-ready

# check nodes and check the service in default namespace
microk8s kubectl get nodes
microk8s kubectl get services

# inspect microk8s installation - if it is conflicted with other and issuing port and etc,
microk8s.inspect

# address the issue based on the guide, generated by microk8s.inspect
if the docker install before microk8s, usually you should add daemon.json
nano /etc/docker/daemon.json
{
  "insecure-registries" : ["localhost:32000"]
}

# if ufw is enable
sudo ufw allow in on cni0 && sudo ufw allow out on cni0

# restart docker
sudo systemctl restart docker

# optionalenable gpu if you have install nvidia in linux server
https://askubuntu.com/questions/361862/nvidia-drivers-synaptic
https://www.linuxbabe.com/ubuntu/install-nvidia-driver-ubuntu-18-04

microk8s.enable gpu
# check nvidia installation status in kubernetes (microk8s) and do not install docker container nvidia runtime
https://github.com/ubuntu/microk8s/issues/1239

# enable helm3 in microk8s
microk8s.enable helm3

# set alias command to make your life easier
alias kubectl='microk8s kubectl'
alias helm=microk8s helm3'

# begin installation jupyterhub in kubernetes (microk8s)
https://github.com/IqbalF69/spatialjupyter/blob/master/installjupyterhub.md
